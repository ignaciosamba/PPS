C51 COMPILER V9.53.0.0   MAIN                                                              05/08/2015 16:04:05 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.exe main.c DB OE BR INCDIR(C:\SiLabs\MCU\Inc)

line level    source

   1          /**
   2           * @file main.c
   3           * @author Sambataro, Ignacio; Mantovani, Luciano
   4           * @date 2015
   5           * @brief [brief description]
   6           * @details [long description]
   7           */
   8          #include "headers.h"
   9          #include "interfaz.h"
  10          #include "configurador.h"
  11          #include "conversor.h"
  12          #include "control.h"
  13          
  14           
  15          long int dato_a_enviar;
  16          int buffer_single [TAM_SINGLE]; 
  17          short int puerto;
  18          bool f_dato_convertido;
  19          
  20          
  21          
  22          void main(void)
  23          {
  24   1      
  25   1              PCA0MD &= ~0x40;                    // WDTE = 0 (clear watchdog timer 
  26   1              buffer_single [TAM_SINGLE] = malloc(TAM_SINGLE);
  27   1      
  28   1              iniciar_sysclock();
  29   1              iniciar_puertos();
  30   1              iniciar_UART();
  31   1              correr_menu();
  32   1              iniciar_ADC();
  33   1              //puerto = cambiar_pin();
  34   1              //seleccionar_puerto(puerto);
  35   1      
  36   1              AD0INT = 0;                                                     
  37   1              ADC0MD = 0x83;                      // Start continuous conversions
  38   1              EA = 1;                                 // Enable global interrupts
  39   1              //ADC0MUX
  40   1              while(1)
  41   1              {
  42   2      
  43   2                      // printf("no entraaa\n");
  44   2                      //necesitas contador para leer el arreglo de puertos
  45   2                      
  46   2                      if(f_dato_convertido)
  47   2                      {
  48   3                              //lees el dato correspondiente a la posicion del arreglo
  49   3                              //llamas a seleccionar_puerto(parametro el numero de puerto que lee del arreglo)
  50   3                              puerto = cambiar_pin();
  51   3                              seleccionar_puerto(puerto);
  52   3                              f_dato_convertido = false;
  53   3                              dato_a_enviar = convertir();
  54   3                              enviar_dato(dato_a_enviar);
  55   3                              //cambiar_pin ();
C51 COMPILER V9.53.0.0   MAIN                                                              05/08/2015 16:04:05 PAGE 2   

  56   3                      }
  57   2                      //incrementas contador;
  58   2                      //if (cont >= tam del arreglo) cont= 0;
  59   2              }
  60   1      }
  61          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     69    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     23    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
